<script type="text/javascript">
  // add helper functions here
  // can be used for validations

  /*
    register node
   */

  RED.nodes.registerType('ui_mp4frag', {
    align: 'left',
    category: 'cctv',
    color: '#DEBD5C',
    defaults: {
      name: {
        value: '',
      },
      group: {
        type: 'ui_group',
        required: true,
      },
      order: {
        value: 0,
      },
      width: {
        value: 1,
      },
      height: {
        value: 1,
      },
    },
    icon: 'font-awesome/fa-file-video-o',
    inputLabels: 'wdget input',
    inputs: 1,
    label: function () {
      return this.name || 'ui_mp4frag';
    },
    outputLabels: 'widget output',
    outputs: 1,
    oneditprepare: function () {
      $('#node-input-size').elementSizer({
        width: '#node-input-width',
        height: '#node-input-height',
        group: '#node-input-group',
      });
    },
    oneditsave: function () {},
  });
</script>

<script data-template-name="ui_mp4frag" type="text/html">
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input style="width:auto;min-width:15rem" type="text" id="node-input-name" placeholder="Name" />
  </div>

  <div class="form-row" id="template-row-group">
    <label for="node-input-group"><i class="fa fa-table"></i> Group</label>
    <input type="text" id="node-input-group" />
  </div>

  <div class="form-row" id="template-row-size">
    <label for="node-input-size"><i class="fa fa-object-group"></i> Size</label>
    <button class="editor-button" id="node-input-size"></button>

    <input type="hidden" id="node-input-width" />
    <input type="hidden" id="node-input-height" />
  </div>
</script>

<script data-help-name="ui_mp4frag" type="text/html">
  <p>Play a fragmented mp4.</p>
</script>
